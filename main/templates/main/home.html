{% extends 'base.html' %}
{% load static %}

{% block title %}Valley Customs{% endblock %}
{% block content %}
<div class="home-container">
    <h1>Bienvenido a Valley Customs</h1>
    <p>Esta es la página principal de nuestra página remasterizada.</p>

    <div class="slider-container">
        <div class="slider">
            <div class="slide">
                <img src="{% static 'img/slider/Banner-OEA-CUSTOMSweb.jpg' %}" alt="Imagen 1">
            </div>
            <div class="slide">
                <img src="{% static 'img/slider/slider-01.png' %}" alt="Imagen 2">
            </div>
            <div class="slide">
                <img src="{% static 'img/slider/slider-02.png' %}" alt="Imagen 3">
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const slider = document.querySelector('.slider');
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
    
        let index = 0;
    
        function updateDots() {
            const dots = document.querySelectorAll('.slider-dot');
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }
    
        function showSlide(newIndex) {
            if (newIndex < 0) {
                index = totalSlides - 1;
            } else if (newIndex >= totalSlides) {
                index = 0;
            } else {
                index = newIndex;
            }
            const offset = -index * 100;
            slider.style.transform = `translateX(${offset}%)`;
            updateDots();
        }
    
        // Auto-slide every 10 seconds
        const autoSlide = setInterval(() => {
            showSlide(index + 1);
        }, 10000);
    
        // Navigation buttons
        const leftButton = document.createElement('button');
        leftButton.classList.add('slider-btn', 'left');
        leftButton.innerHTML = '&#8249;';
        leftButton.addEventListener('click', () => {
            showSlide(index - 1);
            clearInterval(autoSlide); // Stop auto-slide after manual navigation
        });
    
        const rightButton = document.createElement('button');
        rightButton.classList.add('slider-btn', 'right');
        rightButton.innerHTML = '&#8250;';
        rightButton.addEventListener('click', () => {
            showSlide(index + 1);
            clearInterval(autoSlide); // Stop auto-slide after manual navigation
        });
    
        // Add buttons to slider container
        const sliderContainer = document.querySelector('.slider-container');
        sliderContainer.appendChild(leftButton);
        sliderContainer.appendChild(rightButton);
    
        // Dots for navigation
        const dotsContainer = document.createElement('div');
        dotsContainer.classList.add('slider-dots');
        slides.forEach((_, i) => {
            const dot = document.createElement('div');
            dot.classList.add('slider-dot');
            if (i === 0) dot.classList.add('active');
            dot.addEventListener('click', () => {
                showSlide(i);
                clearInterval(autoSlide); // Stop auto-slide after manual navigation
            });
            dotsContainer.appendChild(dot);
        });
        sliderContainer.appendChild(dotsContainer);
    });
    
    
</script>
{% endblock %}
